apiVersion: v1
data:
  spec:
    flavor: openshift-sdn-ovn-baremetal
    config: "\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: aci-containers-system\n  labels:\n    aci-containers-config-version: \"dummy\"\n    network-plugin: aci-containers\n    openshift.io/run-level: \"0\"\n  annotations:\n    openshift.io/node-selector: ''\n---\napiVersion: scheduling.k8s.io/v1\nkind: PriorityClass\nmetadata:\n  name: acicni-priority\nvalue: 1000000000\nglobalDefault: false\ndescription: \"This priority class is used for ACI-CNI resources\"\n---\napiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  name: network-attachment-definitions.k8s.cni.cncf.io\nspec:\n  group: k8s.cni.cncf.io\n  scope: Namespaced\n  names:\n    plural: network-attachment-definitions\n    singular: network-attachment-definition\n    kind: NetworkAttachmentDefinition\n    shortNames:\n    - net-attach-def\n  versions:\n  - name: v1\n    served: true\n    storage: true\n    schema:\n      openAPIV3Schema:\n        description: >-\n          'NetworkAttachmentDefinition is a CRD schema specified by the Network Plumbing\n          Working Group to express the intent for attaching pods to one or more logical or physical\n          networks. More information available at: https://github.com/k8snetworkplumbingwg/multi-net-spec'\n        type: object\n        properties:\n          apiVersion:\n            description: >-\n              'APIVersion defines the versioned schema of this represen\n              tation of an object. Servers should convert recognized schemas to the\n              latest internal value, and may reject unrecognized values. More info:\n              https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'\n            type: string\n          kind:\n            description: >-\n              'Kind is a string value representing the REST resource this\n              object represents. Servers may infer this from the endpoint the client\n              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'\n            type: string\n          metadata:\n            type: object\n          spec:\n            description: 'NetworkAttachmentDefinition spec defines the desired state of a network attachment'\n            type: object\n            properties:\n              config:\n                description: 'NetworkAttachmentDefinition config is a JSON-formatted CNI configuration'\n                type: string\n---\napiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    controller-gen.kubebuilder.io/version: v0.12.0\n  name: nodefabricnetworkattachments.aci.fabricattachment\nspec:\n  group: aci.fabricattachment\n  names:\n    kind: NodeFabricNetworkAttachment\n    listKind: NodeFabricNetworkAttachmentList\n    plural: nodefabricnetworkattachments\n    shortNames:\n    - nfna\n    singular: nodefabricnetworkattachment\n  scope: Namespaced\n  versions:\n  - name: v1\n    schema:\n      openAPIV3Schema:\n        description: NodeFabricAttachment is the Schema for the FabricAttachments\n          API\n        properties:\n          apiVersion:\n            description: 'APIVersion defines the versioned schema of this representation\n              of an object. Servers should convert recognized schemas to the latest\n              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'\n            type: string\n          kind:\n            description: 'Kind is a string value representing the REST resource this\n              object represents. Servers may infer this from the endpoint the client\n              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'\n            type: string\n          metadata:\n            type: object\n          spec:\n            description: NodeFabricAttachmentSpec defines the desired state of network\n              attachment to the fabric\n            properties:\n              aciTopology:\n                additionalProperties:\n                  properties:\n                    fabricLink:\n                      items:\n                        type: string\n                      type: array\n                    pods:\n                      items:\n                        properties:\n                          localIface:\n                            type: string\n                          podRef:\n                            properties:\n                              name:\n                                type: string\n                              namespace:\n                                type: string\n                            required:\n                            - name\n                            - namespace\n                            type: object\n                        type: object\n                      type: array\n                  type: object\n                description: Map of iface to fabricLink\n                type: object\n              encapVlan:\n                properties:\n                  encapRef:\n                    properties:\n                      key:\n                        type: string\n                      nadVlanMap:\n                        type: string\n                    required:\n                    - key\n                    - nadVlanMap\n                    type: object\n                  mode:\n                    type: string\n                  vlanList:\n                    type: string\n                type: object\n              networkRef:\n                description: 'INSERT ADDITIONAL SPEC FIELDS - desired state of cluster\n                  Important: Run \"operator-sdk generate k8s\" to regenerate code after\n                  modifying this file Add custom validation using kubebuilder tags:\n                  https://book.kubebuilder.io/beyond_basics/generating_crd.html NetworkRef\n                  is the ns/net-att-def name, used as part of the epg ns-<NetworkName>'\n                properties:\n                  name:\n                    type: string\n                  namespace:\n                    type: string\n                required:\n                - name\n                - namespace\n                type: object\n              nodeName:\n                type: string\n              primaryCni:\n                description: 'informational: primaryCNI sriov/macvlan/ipvlan/bridge'\n                type: string\n            required:\n            - networkRef\n            type: object\n          status:\n            description: NodeFabricAttachmentStatus defines the observed state of\n              FabricAttachment\n            properties:\n              state:\n                description: 'INSERT ADDITIONAL STATUS FIELD - define observed state\n                  of cluster Important: Run \"operator-sdk generate k8s\" to regenerate\n                  code after modifying this file7 Add custom validation using kubebuilder\n                  tags: https://book.kubebuilder.io/beyond_basics/generating_crd.html'\n                type: string\n            required:\n            - state\n            type: object\n        type: object\n    served: true\n    storage: true\n---\napiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    controller-gen.kubebuilder.io/version: v0.12.0\n  name: nadvlanmaps.aci.fabricattachment\nspec:\n  group: aci.fabricattachment\n  names:\n    kind: NadVlanMap\n    listKind: NadVlanMapList\n    plural: nadvlanmaps\n    singular: nadvlanmap\n  scope: Cluster\n  versions:\n  - name: v1\n    schema:\n      openAPIV3Schema:\n        description: NadVlanMap is the Schema for FabricAttachments NAD name to vlan mapping API\n        properties:\n          apiVersion:\n            description: >-\n              'APIVersion defines the versioned schema of this representation\n              of an object. Servers should convert recognized schemas to the latest\n              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'\n            type: string\n          kind:\n            description: >-\n              'Kind is a string value representing the REST resource this\n              object represents. Servers may infer this from the endpoint the client\n              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'\n            type: string\n          metadata:\n            type: object\n          spec:\n            properties:\n              nadVlanMapping:\n                additionalProperties:\n                  items:\n                    properties:\n                      label:\n                        type: string\n                      vlans:\n                        type: string\n                    required:\n                    - vlans\n                    type: object\n                  type: array\n                description: NAD namespace/name to vlan list mapping\n                type: object\n            required:\n            - nadVlanMapping\n            type: object\n          status:\n            properties:\n              status:\n                type: string\n            type: object\n        required:\n        - spec\n        type: object\n        x-kubernetes-validations:\n        - rule: \"self.metadata.name == 'nad-vlan-map'\"\n          message: \"Only one instance with name nad-vlan-map allowed\"\n    served: true\n    storage: true\n    subresources:\n      status: {}\n---\napiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    controller-gen.kubebuilder.io/version: v0.12.0\n  name: networkfabricconfigurations.aci.fabricattachment\nspec:\n  group: aci.fabricattachment\n  names:\n    kind: NetworkFabricConfiguration\n    listKind: NetworkFabricConfigurationList\n    plural: networkfabricconfigurations\n    singular: networkfabricconfiguration\n  scope: Cluster\n  versions:\n  - name: v1\n    schema:\n      openAPIV3Schema:\n        description: NetworkFabricConfiguration allows additional configuration on\n          NAD based and regular vlans created by aci controller\n        properties:\n          apiVersion:\n            description: 'APIVersion defines the versioned schema of this representation\n              of an object. Servers should convert recognized schemas to the latest\n              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'\n            type: string\n          kind:\n            description: 'Kind is a string value representing the REST resource this\n              object represents. Servers may infer this from the endpoint the client\n              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'\n            type: string\n          metadata:\n            type: object\n          spec:\n            properties:\n              nadVlanRefs:\n                description: Refer to a NADVlanLabel defined in NadVlanMap CR\n                items:\n                  properties:\n                    aeps:\n                      items:\n                        type: string\n                      type: array\n                    nadVlanLabel:\n                      type: string\n                  required:\n                  - aeps\n                  - nadVlanLabel\n                  type: object\n                type: array\n              vlans:\n                description: Refer to vlan/s directly\n                items:\n                  properties:\n                    aeps:\n                      items:\n                        type: string\n                      type: array\n                    vlans:\n                      type: string\n                    epg:\n                      type: object\n                      properties:\n                        applicationProfile:\n                          type: string\n                        discoveryType:\n                          type: string\n                        name:\n                          type: string\n                        tenant:\n                          type: string\n                        contracts:\n                          type: object\n                          properties:\n                            consumer:\n                              type: array\n                              items:\n                                type: string\n                            provider:\n                              type: array\n                              items:\n                                type: string\n                        bd:\n                          type: object\n                          properties:\n                            name:\n                              type: string\n                            common-tenant:\n                              type: boolean\n                            subnets:\n                              type: array\n                              items:\n                                type: string\n                            vrf:\n                              type: object\n                              properties:\n                                name:\n                                  type: string\n                                common-tenant:\n                                  type: boolean\n                  required:\n                  - vlans\n                  type: object\n                type: array\n            type: object\n          status:\n            description: NetworkFabricConfigurationStatus defines the observed state\n              of NetworkFabricConfiguration\n            properties:\n              state:\n                type: string\n            type: object\n        type: object\n        x-kubernetes-validations:\n        - rule: \"self.metadata.name == 'networkfabricconfiguration'\"\n          message: \"Only one instance with name networkfabricconfiguration allowed\"\n    served: true\n    storage: true\n    subresources:\n      status: {}\n---\napiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    controller-gen.kubebuilder.io/version: v0.12.0\n  name: fabricvlanpools.aci.fabricattachment\nspec:\n  group: aci.fabricattachment\n  names:\n    kind: FabricVlanPool\n    listKind: FabricVlanPoolList\n    plural: fabricvlanpools\n    singular: fabricvlanpool\n  scope: Namespaced\n  versions:\n  - name: v1\n    schema:\n      openAPIV3Schema:\n        description: FabricVlanPool is the Schema for the fabricattachments vlanpool API\n        properties:\n          apiVersion:\n            description: >-\n              'APIVersion defines the versioned schema of this representation\n              of an object. Servers should convert recognized schemas to the latest\n              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'\n            type: string\n          kind:\n            description: >-\n              'Kind is a string value representing the REST resource this\n              object represents. Servers may infer this from the endpoint the client\n              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'\n            type: string\n          metadata:\n            type: object\n          spec:\n            description: FabricVlanPoolSpec defines the list of vlans in the fabric vlan pool\n            properties:\n              vlans:\n                items:\n                  type: string\n                type: array\n            type: object\n          status:\n            description: FabricVlanPoolStatus defines the observed state of FabricVlanPool\n            properties:\n              error:\n                type: string\n              state:\n                description: >-\n                  'INSERT ADDITIONAL STATUS FIELD - define observed state\n                  of cluster Important: Run \"operator-sdk generate k8s\" to regenerate\n                  code after modifying this file7 Add custom validation using kubebuilder\n                  tags: https://book.kubebuilder.io/beyond_basics/generating_crd.html'\n                type: string\n            type: object\n        type: object\n    served: true\n    storage: true\n    subresources:\n      status: {}\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: aci-containers-config\n  namespace: aci-containers-system\n  labels:\n    aci-containers-config-version: \"dummy\"\n    network-plugin: aci-containers\ndata:\n  controller-config: |-\n    {\n        \"flavor\": \"openshift-sdn-ovn-baremetal\",\n        \"log-level\": \"info\",\n        \"apic-hosts\": [\n            \"10.30.120.100\"\n        ],\n        \"aci-additional-aep\": \"kube-aep-2\",\n        \"chained-mode\": true,\n        \"primary-cni-path\": \"/mnt/cni-conf/cni/net.d/10-ovn-kubernetes.conf\",\n        \"aci-phys-dom\": \"kube-physdom\",\n        \"apic-username\": \"kube\",\n        \"apic-private-key-path\": \"/usr/local/etc/aci-cert/user.key\",\n        \"aci-prefix\": \"kube\",\n        \"aci-vmm-type\": \"Kubernetes\",\n        \"aci-vmm-domain\": \"kube\",\n        \"aci-vmm-controller\": \"kube\",\n        \"aci-use-global-scope-vlan\": false,\n        \"aci-policy-tenant\": \"kube\",\n        \"aci-nodebd-dn\": \"uni/tn-kube/BD-netop-nodes\",\n        \"aci-service-phys-dom\": \"kube-physdom\",\n        \"aci-service-encap\": \"vlan-None\",\n        \"aci-pbr-tracking-non-snat\": false,\n        \"aci-vrf-tenant\": \"common\",\n        \"aci-vrf-dn\": \"uni/tn-common/ctx-kube\",\n        \"aci-vrf\": \"kube\",\n        \"aci-l3out\": \"l3out\",\n        \"aci-ext-networks\": [\n            \"default\"\n        ]\n    }\n  host-agent-config: |-\n    {\n        \"flavor\": \"openshift-sdn-ovn-baremetal\",\n        \"app-profile\": \"netop-kube\",\n        \"chained-mode\": true,\n        \"enable-chained-secondary\": true,\n        \"primary-cni-path\": \"/mnt/cni-conf/cni/net.d/10-ovn-kubernetes.conf\",\n        \"log-level\": \"info\",\n        \"aci-vmm-type\": \"Kubernetes\",\n        \"aci-vmm-domain\": \"kube\",\n        \"aci-vmm-controller\": \"kube\",\n        \"aci-vrf\": \"kube\",\n        \"aci-vrf-tenant\": \"common\",\n        \"aci-prefix\": \"kube\",\n        \"kubeapi-vlan\": 4001,\n        \"node-subnet\": \"10.1.0.1/16\",\n        \"aci-use-global-scope-vlan\": false,\n        \"enable-drop-log\": true,\n        \"enable-nodepodif\": false\n    }\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: aci-user-cert\n  namespace: aci-containers-system\n  labels:\n    aci-containers-config-version: \"dummy\"\ndata:\n  user.key: ZHVtbXkK\n  user.crt: ZHVtbXkK\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: aci-containers-controller\n  namespace: aci-containers-system\n  labels:\n    aci-containers-config-version: \"dummy\"\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: aci-containers-host-agent\n  namespace: aci-containers-system\n  labels:\n    aci-containers-config-version: \"dummy\"\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  labels:\n    aci-containers-config-version: \"dummy\"\n    network-plugin: aci-containers\n  name: aci-containers-controller\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - nodes\n  - namespaces\n  - pods\n  - endpoints\n  - services\n  - events\n  - replicationcontrollers\n  - serviceaccounts\n  verbs:\n  - list\n  - watch\n  - get\n  - patch\n  - create\n  - update\n  - delete\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  verbs:\n  - list\n  - watch\n  - get\n  - create\n  - update\n  - delete\n- apiGroups:\n  - \"apiextensions.k8s.io\"\n  resources:\n  - customresourcedefinitions\n  verbs:\n  - '*'\n- apiGroups:\n  - \"rbac.authorization.k8s.io\"\n  resources:\n  - clusterroles\n  - clusterrolebindings\n  verbs:\n  - '*'\n- apiGroups:\n  - \"networking.k8s.io\"\n  resources:\n  - networkpolicies\n  verbs:\n  - list\n  - watch\n  - get\n- apiGroups:\n  - \"apps\"\n  resources:\n  - deployments\n  - replicasets\n  - daemonsets\n  - statefulsets\n  verbs:\n  - '*'\n- apiGroups:\n  - \"\"\n  resources:\n  - nodes\n  - services/status\n  verbs:\n  - update\n- apiGroups:\n  - \"monitoring.coreos.com\"\n  resources:\n  - servicemonitors\n  verbs:\n  - get\n  - create\n- apiGroups:\n  - \"aci.snat\"\n  resources:\n  - snatpolicies/finalizers\n  - snatpolicies/status\n  - nodeinfos\n  verbs:\n  - update\n  - create\n  - list\n  - watch\n  - get\n  - delete\n- apiGroups:\n  - \"aci.snat\"\n  resources:\n  - snatglobalinfos\n  - snatpolicies\n  - nodeinfos\n  - rdconfigs\n  verbs:\n  - list\n  - watch\n  - get\n  - create\n  - update\n  - delete\n- apiGroups:\n  - \"aci.qos\"\n  resources:\n  - qospolicies\n  verbs:\n  - list\n  - watch\n  - get\n  - create\n  - update\n  - delete\n  - patch\n- apiGroups:\n  - \"aci.netflow\"\n  resources:\n  - netflowpolicies\n  verbs:\n  - list\n  - watch\n  - get\n  - update\n- apiGroups:\n  - \"aci.erspan\"\n  resources:\n  - erspanpolicies\n  verbs:\n  - list\n  - watch\n  - get\n  - update\n- apiGroups:\n  - \"aci.aw\"\n  resources:\n  - nodepodifs\n  verbs:\n  - '*'\n- apiGroups:\n  - apps.openshift.io\n  resources:\n  - deploymentconfigs\n  verbs:\n  - list\n  - watch\n  - get\n- apiGroups:\n  - discovery.k8s.io\n  resources:\n  - endpointslices\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"aci.netpol\"\n  resources:\n  - networkpolicies\n  verbs:\n  - get\n  - list\n  - watch\n  - create\n  - update\n  - delete\n- apiGroups:\n  - \"aci.dnsnetpol\"\n  resources:\n  - dnsnetworkpolicies\n  verbs:\n  - get\n  - list\n  - watch\n  - create\n  - update\n  - delete\n- apiGroups:\n  - \"aci.fabricattachment\"\n  resources:\n  - nodefabricnetworkattachments\n  - nadvlanmaps\n  - networkfabricconfigurations\n  - fabricvlanpools\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - aci.fabricattachment\n  resources:\n  - nadvlanmaps/status\n  - fabricvlanpools/status\n  verbs:\n  - get\n  - list\n  - watch\n  - update\n  - patch\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  labels:\n    aci-containers-config-version: \"dummy\"\n    network-plugin: aci-containers\n  name: aci-containers-host-agent\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - nodes\n  - namespaces\n  - pods\n  - endpoints\n  - services\n  - replicationcontrollers\n  verbs:\n  - list\n  - watch\n  - get\n  - update\n- apiGroups:\n  - \"\"\n  resources:\n  - events\n  verbs:\n  - create\n  - patch\n- apiGroups:\n  - \"apiextensions.k8s.io\"\n  resources:\n  - customresourcedefinitions\n  verbs:\n  - list\n  - watch\n  - get\n- apiGroups:\n  - \"networking.k8s.io\"\n  resources:\n  - networkpolicies\n  verbs:\n  - list\n  - watch\n  - get\n- apiGroups:\n  - \"apps\"\n  resources:\n  - deployments\n  - replicasets\n  verbs:\n  - list\n  - watch\n  - get\n- apiGroups:\n  - \"aci.snat\"\n  resources:\n  - snatpolicies\n  - snatglobalinfos\n  - rdconfigs\n  verbs:\n  - list\n  - watch\n  - get\n- apiGroups:\n  - \"aci.qos\"\n  resources:\n  - qospolicies\n  verbs:\n  - list\n  - watch\n  - get\n  - create\n  - update\n  - delete\n  - patch\n- apiGroups:\n  - \"aci.droplog\"\n  resources:\n  - enabledroplogs\n  - prunedroplogs\n  verbs:\n  - list\n  - watch\n  - get\n- apiGroups:\n  - \"aci.snat\"\n  resources:\n  - nodeinfos\n  - snatlocalinfos\n  verbs:\n  - create\n  - update\n  - list\n  - watch\n  - get\n  - delete\n- apiGroups:\n  - \"config.openshift.io\"\n  resources:\n  - infrastructures\n  verbs:\n  - get\n- apiGroups:\n  - discovery.k8s.io\n  resources:\n  - endpointslices\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"aci.netpol\"\n  resources:\n  - networkpolicies\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"aci.aw\"\n  resources:\n  - nodepodifs\n  verbs:\n  - \"*\"\n- apiGroups: [\"k8s.cni.cncf.io\"]\n  resources:\n  - '*'\n  verbs:\n  - '*'\n- apiGroups:\n  - \"aci.fabricattachment\"\n  resources:\n  - nodefabricnetworkattachments\n  - nodefabricnetworkattachments/status\n  verbs:\n  - \"*\"\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  verbs:\n  - list\n  - watch\n  - get\n  - update\n- apiGroups:\n  - aci.fabricattachment\n  resources:\n  - nadvlanmaps\n  - fabricvlanpools\n  verbs:\n  - get\n  - list\n  - watch\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: aci-containers-controller\n  labels:\n    aci-containers-config-version: \"dummy\"\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: aci-containers-controller\nsubjects:\n- kind: ServiceAccount\n  name: aci-containers-controller\n  namespace: aci-containers-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: aci-containers-host-agent\n  labels:\n    aci-containers-config-version: \"dummy\"\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: aci-containers-host-agent\nsubjects:\n- kind: ServiceAccount\n  name: aci-containers-host-agent\n  namespace: aci-containers-system\n---\napiVersion: aci.fabricattachment/v1\nkind: FabricVlanPool\nmetadata:\n  name: default\n  namespace: aci-containers-system\nspec:\n  vlans:\n  - 4002-4007\n  - '4009'\n---\napiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: aci-containers-host\n  namespace: aci-containers-system\n  labels:\n    aci-containers-config-version: \"dummy\"\n    network-plugin: aci-containers\nspec:\n  updateStrategy:\n    type: RollingUpdate\n  selector:\n    matchLabels:\n      name: aci-containers-host\n      network-plugin: aci-containers\n  template:\n    metadata:\n      labels:\n        name: aci-containers-host\n        network-plugin: aci-containers\n      annotations:\n    spec:\n      hostNetwork: true\n      hostPID: true\n      hostIPC: true\n      serviceAccountName: aci-containers-host-agent\n      tolerations:\n      - operator: Exists\n      priorityClassName: acicni-priority\n      containers:\n      - name: aci-containers-host\n        image: noiro/aci-containers-host-ovscni:6.0.4.4.81c2369\n        imagePullPolicy: Always\n        securityContext:\n          privileged: true\n          capabilities:\n            add:\n            - SYS_ADMIN\n            - NET_ADMIN\n            - SYS_PTRACE\n            - NET_RAW\n        env:\n        - name: GOTRACEBACK\n          value: \"2\"\n        - name: KUBERNETES_NODE_NAME\n          valueFrom:\n            fieldRef:\n              fieldPath: spec.nodeName\n        - name: TENANT\n          value: \"kube\"\n        - name: NODE_EPG\n          value: \"netop-kube|netop-nodes\"\n        - name: MULTUS\n          value: 'True'\n        - name: DURATION_WAIT_FOR_NETWORK\n          value: \"210\"\n        - name: CHAINED_MODE\n          value: \"true\"\n        - name: PRIMARY_CNI_PATH\n          value: \"/mnt/cni-conf/cni/net.d/10-ovn-kubernetes.conf\"\n        volumeMounts:\n        - name: cni-bin\n          mountPath: /mnt/cni-bin\n        - name: cni-conf\n          mountPath: /mnt/cni-conf\n        - name: hostvar\n          mountPath: /usr/local/var\n        - name: hostrun\n          mountPath: /run\n        - name: hostrun\n          mountPath: /usr/local/run\n        - name: host-config-volume\n          mountPath: /usr/local/etc/aci-containers/\n        - name: varlogpods\n          mountPath: /var/log/pods\n          readOnly: true\n        - name: varlogcontainers\n          mountPath: /var/log/containers\n          readOnly: true\n        - name: varlibdocker\n          mountPath: /var/lib/docker\n          readOnly: true\n        - mountPath: /run/netns\n          name: host-run-netns\n          readOnly: true\n          mountPropagation: HostToContainer\n        - name: multus-cni-conf\n          mountPath: /mnt/multus-cni-conf\n        livenessProbe:\n          failureThreshold: 10\n          httpGet:\n            path: /status\n            port: 8090\n            scheme: HTTP\n          initialDelaySeconds: 120\n          periodSeconds: 60\n          successThreshold: 1\n          timeoutSeconds: 30\n      restartPolicy: Always\n      volumes:\n      - name: cni-bin\n        hostPath:\n          path: /var/lib\n      - name: cni-conf\n        hostPath:\n          path: /run/multus\n      - name: hostvar\n        hostPath:\n          path: /var\n      - name: hostrun\n        hostPath:\n          path: /run\n      - name: host-config-volume\n        configMap:\n          name: aci-containers-config\n          items:\n          - key: host-agent-config\n            path: host-agent.conf\n      - name: varlogpods\n        hostPath:\n          path: /var/log/pods\n      - name: varlogcontainers\n        hostPath:\n          path: /var/log/containers\n      - name: varlibdocker\n        hostPath:\n          path: /var/lib/docker\n      - name: host-run-netns\n        hostPath:\n          path: /run/netns\n      - name: multus-cni-conf\n        hostPath:\n          path: /var/run/multus/\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: aci-containers-controller\n  namespace: aci-containers-system\n  labels:\n    aci-containers-config-version: \"dummy\"\n    network-plugin: aci-containers\n    name: aci-containers-controller\nspec:\n  replicas: 1\n  strategy:\n    type: Recreate\n  selector:\n    matchLabels:\n      name: aci-containers-controller\n      network-plugin: aci-containers\n  template:\n    metadata:\n      name: aci-containers-controller\n      namespace: aci-containers-system\n      labels:\n        name: aci-containers-controller\n        network-plugin: aci-containers\n    spec:\n      hostNetwork: true\n      serviceAccountName: aci-containers-controller\n      tolerations:\n      - effect: NoExecute\n        key: node.kubernetes.io/unreachable\n        operator: Exists\n        tolerationSeconds: 60\n      - effect: NoExecute\n        key: node.kubernetes.io/not-ready\n        operator: Exists\n        tolerationSeconds: 60\n      - effect: NoSchedule\n        key: node.kubernetes.io/not-ready\n        operator: Exists\n      - effect: NoSchedule\n        key: node-role.kubernetes.io/master\n        operator: Exists\n      priorityClassName: acicni-priority\n      containers:\n      - name: aci-containers-controller\n        image: noiro/aci-containers-controller:6.0.4.4.81c2369\n        imagePullPolicy: Always\n        env:\n        - name: SYSTEM_NAMESPACE\n          value: \"aci-containers-system\"\n        volumeMounts:\n        - name: controller-config-volume\n          mountPath: /usr/local/etc/aci-containers/\n        - name: varlogpods\n          mountPath: /var/log/pods\n          readOnly: true\n        - name: varlogcontainers\n          mountPath: /var/log/containers\n          readOnly: true\n        - name: varlibdocker\n          mountPath: /var/lib/docker\n          readOnly: true\n        - name: aci-user-cert-volume\n          mountPath: /usr/local/etc/aci-cert/\n        livenessProbe:\n          failureThreshold: 10\n          httpGet:\n            path: /status\n            port: 8091\n            scheme: HTTP\n          initialDelaySeconds: 120\n          periodSeconds: 60\n          successThreshold: 1\n          timeoutSeconds: 30\n      volumes:\n      - name: aci-user-cert-volume\n        secret:\n          secretName: aci-user-cert\n      - name: controller-config-volume\n        configMap:\n          name: aci-containers-config\n          items:\n          - key: controller-config\n            path: controller.conf\n      - name: varlogpods\n        hostPath:\n          path: /var/log/pods\n      - name: varlogcontainers\n        hostPath:\n          path: /var/log/containers\n      - name: varlibdocker\n        hostPath:\n          path: /var/lib/docker\n---\napiVersion: v1\nkind: LimitRange\nmetadata:\n  name: memory-limit-range\n  namespace: aci-containers-system\nspec:\n  limits:\n  - default:\n      memory: 3Gi\n    defaultRequest:\n      memory: 128Mi\n    type: Container\n"
kind: ConfigMap
metadata:
  labels:
    aci-containers-config-version: dummy
    network-plugin: aci-containers
  name: aci-operator-config
  namespace: aci-containers-system
